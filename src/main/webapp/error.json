########################################################################
##  OpenHandle - Velocity Error Template for JSON Serialization
##
##  This is a Velocity error template for an JSON serialization of a
##  Handle record as generated by OpenHandle [1]. The Handle System data
##  model is specified by RFC 3651 [2].  For further information on the
##  Handle System, see [3].
##
##  Author: Tony Hammond <t.hammond@nature.com>
##  Date:   2008-07-31T12:00:00Z
##
##  ==
##  [1] http://code.google.com/p/openhandle/
##  [2] http://www.ietf.org/rfc/rfc3651.txt
##  [3] http://wwww.handle.net/
########################################################################
#set ($id = $request.getParameter("id"))
#set ($this = $request.getAttribute("id"))
#set ($err = $request.getAttribute("error"))
#if ($request.getParameter("callback"))
#set ($callback = $request.getParameter("callback"))
${callback}(
#end
{
    "comment" : "OpenHandle (JSON) - see http://code.google.com/p/openhandle/" ,
    "handle" : "hdl:${id}" ,
    "handleStatus" : {
        "code" : "${err.code}" ,
        "message" : "${err.message}"
    } ,
    "handleValues" : [ ]
}
#if ($request.getParameter("callback"))
)
#end
########################################################################
## EOF
########################################################################
